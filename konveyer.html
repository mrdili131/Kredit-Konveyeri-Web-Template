<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Lisa kredit konveyeri</title>
  <link rel="stylesheet" href="style.css">
</head>
<body>
  <nav>
    <button class="nav-btn" data-tab="kredit">Kredit shartlari</button>
    <button class="nav-btn" data-tab="klient">Klient ma‘lumotlari</button>
    <button class="nav-btn" data-tab="yashash">Yashash joyi</button>
    <button class="nav-btn" data-tab="telefon">Telefon raqamlar</button>
    <button class="nav-btn" data-tab="karta">Karta ma‘lumotlari</button>
    <button class="nav-btn" data-tab="tasdiq">Tasdiqlash</button>
    <button class="nav-btn" data-tab="yakun">Yakunlash</button>
  </nav>

  <div class="main">
    <h1 style="padding: 20px;">Ariza F13-099925</h1>
    <!-- -----------------------------------First Tab-----Kredit------------------------------------------ -->
    <div class="tab" id="kredit">
        <div class="first-tab">
          <div class="credit-data">
            <h1>Kredit shartlari</h1>
            <label for="">Summa</label>
            <input type="number" id="credit_amount" placeholder="10 000 000">
            <div style="display: flex;flex-direction: row;gap:5px;">
              <div style="display: flex;flex-direction: column;gap:5px;">
                <label for="date_start">Boshlanish sana</label>
                <input type="date" id="date_start" name="date_start">
              </div>
              <div style="display: flex;flex-direction: column;gap:5px;">
                <label for="date_start">Tugash sana</label>
                <input type="date" id="date_end" name="date_end">
              </div>
            </div>
            <label for="pay_day">To‘lov kuni</label>
            <input type="number" name="pay_day" id="pay_day" placeholder="10">
            <label for="rate">Yillik foizi</label>
            <input type="number" value="49" name="rate" id="credit_rate" placeholder="49%">
            <label for="fine">Jarima foizi</label>
            <input type="number" value="1" name="fine" id="fine" placeholder="1%">
            <button class="in_btn" id="make_graphic">Grafik yaratish</button>
          </div>
          <div>
            <table>
              <thead>
                <tr>
                  <th>Sana</th>
                  <th>To‘lov</th>
                  <th>Asosiy qarz</th>
                  <th>Foizlar</th>
                  <th>Qarz qoldig‘i</th>
                  <th>stavka %</th>
                </tr>
              </thead>
              <tbody id="graphic">
                <!-- <tr>
                  <td>12.02.2025</td>
                  <td>5 000</td>
                  <td>1 000</td>
                  <td>4 000</td>
                  <td>10 000</td>
                  <td>49%</td>
                </tr> -->
              </tbody>
            </table>
          </div>
        </div>
      </div>


    <!-- -----------------------------------Second Tab-----------Klient ma‘lumotlari------------------------------------ -->

      <div class="tab" id="klient">
          <div class="second-tab">
            <h1>Mijoz ma‘lumotlari</h1>
            <div class="second-tab-data">
              <div class="input-item">
                <label for="jshshir">Jshshir</label>
                <input type="text" id="jshshir" name="jshshir" placeholder="JSHSHIR">
              </div>
              <div class="input-item">
                <label for="first_name">Ism</label>
                <input type="text" id="first_name" name="first_name" placeholder="Ism">
              </div>
              <div class="input-item">
                <label for="last_name">Familiya</label>
                <input type="text" id="last_name" name="last_name" placeholder="Familiya">
              </div>
              <div class="input-item">
                <label for="middle_name">Otasining ismi</label>
                <input type="text" id="middle_name" name="middle_name" placeholder="Otasining ismi">
              </div>
              <div class="input-item">
                <label for="gender">Jinsi</label>
                <select name="gender" id="gender" class="form-select" style="font-size: 25px;">
                  <option value="1">Erkak</option>
                  <option value="2">Ayol</option>
                </select>
              </div>
              <div class="input-item">
                <label for="birth_date">Tug‘ilgan sana</label>
                <input type="date" id="birth_date" name="birth_date">
              </div>
              <div class="input-item">
                <label for="region">Shahar(tuman)</label>
                <input type="text" id="region" name="region" placeholder="Farg‘ona viloyati">
              </div>
              <div class="input-item">
                <label for="country">Davlat</label>
                <input type="text" id="country" name="country" placeholder="O‘zbekiston">
              </div>
              <div class="input-item">
                <label for="education">Ma‘lumoti</label>
                <select name="education" id="education" style="font-size: 25px;">
                  <option value="1">Oliy</option>
                  <option value="2">O‘rta</option>
                  <option value="3">O‘rta-maxsus</option>
                  <option value="4">Tuganlanmagan oliy</option>
                  <option value="5">Boshlang‘ich</option>
                </select>
              </div>
            </div>
            <h1>Shaxsni tasdiqlovchi hujjat ma'lumotlari</h1>
            <div class="second-tab-data">
              <div class="input-item">
                <label for="serial">Passport seriyasi</label>
                <input type="text" id="serial" name="serial" placeholder="AB">
              </div>
              <div class="input-item">
                <label for="serial_num">Seriya raqami</label>
                <input type="text" id="serial_num" name="serial_num" placeholder="1001200">
              </div>
              <div class="input-item">
                <label for="pass_got">Olingan sanasi</label>
                <input type="date" id="pass_got" name="pass_got">
              </div>
              <div class="input-item">
                <label for="pass_exp">Tugash sanasi</label>
                <input type="date" id="pass_exp" name="pass_exp">
              </div>
              <div class="input-item">
                <label for="got_place">Berilgan joyi</label>
                <input type="text" id="got_place" name="got_place" placeholder="IIV 27248">
              </div>
              <div class="input-item">
                <label for="country_passport">Davlat</label>
                <input type="text" id="country_passport" name="country_passport" placeholder="O‘zbekiston">
              </div>
              <div class="input-item">
                <label for="region_pass">Shahar(tuman)</label>
                <input type="text" id="region_pass" name="region_pass" placeholder="Farg‘ona viloyati">
              </div>
              </div>
          </div>
      </div>

    <!-- -----------------------------------Third Tab--------------------Yashash joyi--------------------------- -->

      <div class="tab" id="yashash">
            <div class="third-tab">
              <h1>Ro'yxatdan o'tish manzili ma'lumotlari</h1>
              <div class="second-tab-data">
                <div class="input-item">
                    <label for="base_country">Davlat</label>
                    <input type="text" id="base_country" name="base_country" placeholder="O‘zbekiston">
                </div>
                <div class="input-item">
                    <label for="viloyat">Viloyat</label>
                    <input type="text" id="base_viloyat" name="viloyat" placeholder="Farg‘ona viloyati">
                  </div>
                <div class="input-item">
                    <label for="shahar">Shahar(tuman)</label>
                    <input type="text" id="base_shahar" name="shahar" placeholder="Farg‘ona shahri">
                </div>
                <div class="input-item">
                    <label for="address">Manzil</label>
                    <input type="text" id="base_address" name="address" style="width: 350px;" placeholder="Birnima MFY Birnima ko‘chasi 01-uy">
                </div>
              </div>
              <button class="in_btn" onclick="same_address()">Pastga tushirish</button>
              <h1>Joriy manzil ma'lumotlari</h1>
              <div class="second-tab-data">
                <div class="input-item">
                    <label for="country_pass">Davlat</label>
                    <input type="text" id="country_pass" name="country_pass" placeholder="O‘zbekiston">
                </div>
                <div class="input-item">
                    <label for="viloyat">Viloyat</label>
                    <input type="text" id="pass_viloyat" name="viloyat" placeholder="Farg‘ona viloyati">
                  </div>
                <div class="input-item">
                    <label for="shahar">Shahar(tuman)</label>
                    <input type="text" id="shahar" name="shahar" placeholder="Farg‘ona shahri">
                </div>
                <div class="input-item">
                    <label for="address">Manzil</label>
                    <input type="text" id="address" name="address" style="width: 350px;" placeholder="Birnima MFY Birnima ko‘chasi 01-uy">
                </div>
              </div>
            </div>
      </div>


    <!-- -----------------------------------Fourth Tab--------------------Telefon raqam--------------------------- -->

    <div class="tab" id="telefon">
          <div class="forth-tab">
            <div class="second-tab-data">
              <div class="input-item">
                  <label for="num">Telefon raqam</label>
                  <input type="text" id="num" name="num" style="width: 350px;" placeholder="94 139 07 72">
              </div>
              <div class="input-item">
                  <label for="num_comment">Izoh</label>
                  <input type="text" id="num_comment" name="num_comment" style="width: 350px;" placeholder="Birnimajon">
              </div>
              <button class="in_btn">Saqlash</button>
            </div>
            <div class="second-tab-data">
              <h1>94 139 07 72</h1>
              <h1>Birnimajon</h1>
              <button class="in_btn">O‘chirish</button>
            </div>
            <div class="second-tab-data">
              <h1>94 139 07 72</h1>
              <h1>Birnimajon</h1>
              <button class="in_btn">O‘chirish</button>
            </div>
            <div class="second-tab-data">
              <h1>94 139 07 72</h1>
              <h1>Birnimajon</h1>
              <button class="in_btn">O‘chirish</button>
            </div>
          </div>
    </div>


    <!-- -----------------------------------Fiveth Tab--------------------Karta ma‘lumotlari--------------------------- --> 

    <div class="tab" id="karta">
          <div class="fiveth-tab">
            <div class="second-tab-data">
              <div class="input-item">
                  <label for="card">Kartani kiriting</label>
                  <input type="text" id="card" name="card" style="width: 350px;" placeholder="8600 0000 0000 0000">
              </div>
              <div class="input-item">
                  <label for="valid">Karta muddati</label>
                  <input type="text" id="valid" name="valid" style="width: 350px;" placeholder="12/27">
              </div>
              <button class="in_btn">Saqlash</button>
            </div>
          </div>
    </div>




    <!-- -----------------------------------Sixth Tab--------------------Tasdiqlash--------------------------- -->

    <div class="tab" id="tasdiq">
              <div class="sixth-tab">
                <h1>Ma'lumotlarni tasdiqlash</h1>
                <div class="main-sixth-tab">
                  <div style="display: flex;flex-direction: row;justify-content: space-between;gap:20px;">


                      <div class="sixth-tab-data">
                        <div class="row-data-view">
                          <p>FIO:</p>
                          <h2>Polonchiyev Polonchi Pistonchiyevich</h2>
                        </div>
                        <div class="row-data-view">
                          <p>JSHSHIR:</p>
                          <h2>8542465464443254242</h2>
                        </div>
                        <div class="row-data-view">
                          <p>TUG‘ILGAN SANA:</p>
                          <h2>14.01.2025</h2>
                        </div>
                        <div class="row-data-view">
                          <p>TELEFON:</p>
                          <h2>94 139 07 72</h2>
                        </div>
                        <div class="row-data-view">
                          <p>KREDIT MAXSULOTI:</p>
                          <h2>IMKONIYAT</h2>
                        </div>
                        <div class="row-data-view">
                          <p>KREDIT SUMMASI:</p>
                          <h2>10 000 000</h2>
                        </div>
                        <div class="row-data-view">
                          <p>KREDIT MUDDATI:</p>
                          <h2 id="credit_length">1 yil 6 oy</h2>
                        </div>
                        <div class="row-data-view">
                          <p>KREDIT FOIZ STAVKASI:</p>
                          <h2>49%</h2>
                        </div>
                      </div>

                    <div class="sixth-tab-data">
                        <div class="row-data-view">
                          <p>Guvohnoma seriyasi va nomeri:</p>
                          <h2>AB 1529833</h2>
                        </div>
                        <div class="row-data-view">
                          <p>Guvohnoma turi:</p>
                          <h2>Биометрический паспорт гражданина Респ.Узбекистан</h2>
                        </div>
                        <div class="row-data-view">
                          <p>Berilgan sana:</p>
                          <h2>08.10.2015</h2>
                        </div>
                        <div class="row-data-view">
                          <p>Tugash muddati:</p>
                          <h2>07.10.2025</h2>
                        </div>
                        <div class="row-data-view">
                          <p>Fuqarolik:</p>
                          <h2>Узбекистан</h2>
                        </div>
                        <div class="row-data-view">
                          <p>Berilgan:</p>
                          <h2>Toshkent viloyati Yuqorichirchiq tumani IIB</h2>
                        </div>
                        <div class="row-data-view">
                          <p>Ro'yxatdan o'tgan joyi:</p>
                          <h2>Узбекистан | ЮКОРИЧИРЧИК ТУМАНИ | ТОШКЕНТ ВИЛОЯТИ | "Fayzobod" MFY Tinchlik ko‘chasi 12-uy</h2>
                        </div>
                        <div class="row-data-view">
                          <p>Yashash joyi:</p>
                          <h2>Узбекистан | ЮКОРИЧИРЧИК ТУМАНИ | ТОШКЕНТ ВИЛОЯТИ | "Fayzobod" MFY Tinchlik ko‘chasi 12-uy</h2>
                        </div>
                      </div>



                  </div>
                </div>
              </div>
    </div>





    <!-- -----------------------------------Seventh Tab--------------------Tugatish--------------------------- -->


    <div class="tab" id="yakun">
          <div class="fiveth-tab">
            <div class="second-tab-data">
              <h1 style="color: white;">KREDITLASHNI YAKUNLASH</h1>
              <button class="in_btn">YAKUNLASH</button>
            </div>
          </div>
    </div>
  



  </div>



  <div class="footer">
    <button id="prev-btn" class="bt-nav-btn">Orqaga</button>
    <a style="text-decoration: none;" href="index.html" class="bt-nav-btn">Berkitish</a>
    <button class="bt-nav-btn">Bekor qilish</button>
    <button id="next-btn" class="bt-nav-btn">Tasqidlash</button>
  </div>
  


</body>
</html>

<script>

    function numify(n){
        return Math.round(Number(n)).toLocaleString('en',{style:'decimal',useGrouping:true}).replace(/,/g,' ')
    }

  // Tabs
  const tab_btns = document.querySelectorAll(".nav-btn")
  const tabs = document.querySelectorAll(".tab")

  window.addEventListener("load",()=>{
    const hash = window.location.hash

    if (hash){
      const index = [...tab_btns].findIndex(btn=>'#'+btn.getAttribute('data-tab')===hash)
      if(index!==-1){
        show_tab(index)
      }
    } else {
      show_tab(0);
    }
  })


  function show_tab(index){
    tab_btns.forEach(btn=>btn.classList.remove("active"))
    tabs.forEach(tab=>tab.classList.remove("active"))

    tab_btns[index].classList.add("active")
    tabs[index].classList.add("active")
    
    window.location.hash = tab_btns[index].getAttribute('data-tab')
  }

  tab_btns.forEach((btn,index)=>btn.addEventListener("click",()=>{

    show_tab(index)
  }))


  let next = document.getElementById("next-btn")
  let prev = document.getElementById("prev-btn")

  next.addEventListener("click",()=>{
      let current_tab = document.querySelector('.tab.active')
      if (current_tab){
        const current_index = [...tabs].indexOf(current_tab)
        const next_tab = current_index + 1
        
        if (next_tab <= tabs.length-1){
          show_tab(next_tab)
        }
      }
  })

  prev.addEventListener("click",()=>{
    tabs.forEach((tab,index)=>{
      if (tab.classList.contains("active")){
        if (index - 1 > -1){
          show_tab(index-1)
        }
      }
    })
  })

  // Tabs end


  // Date between calculator

  document.getElementById("make_graphic").addEventListener("click",()=>{
    let start = document.getElementById("date_start").value;
    let end = document.getElementById("date_end").value;


    let start_date = new Date(start)
    let end_date = new Date(end)

    start_date.setHours(0, 0, 0, 0);
    end_date.setHours(0, 0, 0, 0);

    // Between counter func

    full_years = end_date.getFullYear() - start_date.getFullYear()
    full_month = end_date.getMonth() - start_date.getMonth()
    full_days = end_date.getDay() - start_date.getDay()

    if (full_month != 0){
        full_years -= 1;
        full_month += 12
        res = `${full_years} yil ${full_month} oy`
    } else {
        res = `${full_years} yil`
    }
    document.getElementById("credit_length").textContent = res
    //Between count func


    let amount = Number(document.getElementById("credit_amount").value)
    let graphic = document.getElementById("graphic")
    graphic.innerHTML = ''

    left_amount = amount
    rate = Number(document.getElementById("credit_rate").value)/12
    monthly_amount = amount/12

    total_month = full_years * 12 + full_month

    for (let i=0;i<total_month;i++){
      interest = left_amount/100*rate
      graphic.innerHTML += `
      <tr>
          <td>12.02.2025</td>
          <td>${numify(monthly_amount+interest)}</td>
          <td>${numify(monthly_amount)}</td>
          <td>${numify(interest)}</td>
          <td>${numify(left_amount)}</td>
        <td>${numify(rate*12)}%</td>
      </tr>
      `
      left_amount -= monthly_amount

    }


  })

  // Date between calculator end

</script>





